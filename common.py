yearn_deployer = '0x2D407dDb06311396fE14D4b49da5F0471447d45C'
aave_address = '0x24a42fD28C976A61Df5D00D0599C34c4f90748c8'
aave_abi = [ { "constant": "true", "inputs": [], "name": "getLendingPool", "outputs": [ { "internalType": "address", "name": "", "type": "address" } ], "payable": "false", "stateMutability": "view", "type": "function" } ]
lending_pool_abi = [ { "constant": "true", "inputs": [ { "internalType": "address", "name": "_user", "type": "address" } ], "name": "getUserAccountData", "outputs": [ { "internalType": "uint256", "name": "totalLiquidityETH", "type": "uint256" }, { "internalType": "uint256", "name": "totalCollateralETH", "type": "uint256" }, { "internalType": "uint256", "name": "totalBorrowsETH", "type": "uint256" }, { "internalType": "uint256", "name": "totalFeesETH", "type": "uint256" }, { "internalType": "uint256", "name": "availableBorrowsETH", "type": "uint256" }, { "internalType": "uint256", "name": "currentLiquidationThreshold", "type": "uint256" }, { "internalType": "uint256", "name": "ltv", "type": "uint256" }, { "internalType": "uint256", "name": "healthFactor", "type": "uint256" } ], "payable": "false", "stateMutability": "view", "type": "function" } ]
yalink_vault_address = '0x29E240CFD7946BA20895a7a02eDb25C210f9f324'
yalink_vault_abi = [{"inputs":[{"internalType":"address","name":"_token","type":"address"},{"internalType":"address","name":"_controller","type":"address"}],"payable":"false","stateMutability":"nonpayable","type":"constructor"},{"anonymous":"false","inputs":[{"indexed":"true","internalType":"address","name":"owner","type":"address"},{"indexed":"true","internalType":"address","name":"spender","type":"address"},{"indexed":"false","internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":"false","inputs":[{"indexed":"true","internalType":"address","name":"from","type":"address"},{"indexed":"true","internalType":"address","name":"to","type":"address"},{"indexed":"false","internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"constant":"true","inputs":[],"name":"aave","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":"false","stateMutability":"view","type":"function"},{"constant":"false","inputs":[],"name":"activate","outputs":[],"payable":"false","stateMutability":"nonpayable","type":"function"},{"constant":"true","inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":"false","stateMutability":"view","type":"function"},{"constant":"false","inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":"false","stateMutability":"nonpayable","type":"function"},{"constant":"true","inputs":[],"name":"availableToBorrowETH","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":"false","stateMutability":"view","type":"function"},{"constant":"true","inputs":[],"name":"availableToBorrowReserve","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":"false","stateMutability":"view","type":"function"},{"constant":"true","inputs":[],"name":"balance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":"false","stateMutability":"view","type":"function"},{"constant":"true","inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":"false","stateMutability":"view","type":"function"},{"constant":"false","inputs":[],"name":"claimInsurance","outputs":[],"payable":"false","stateMutability":"nonpayable","type":"function"},{"constant":"true","inputs":[],"name":"controller","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":"false","stateMutability":"view","type":"function"},{"constant":"true","inputs":[],"name":"credit","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":"false","stateMutability":"view","type":"function"},{"constant":"true","inputs":[],"name":"debt","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":"false","stateMutability":"view","type":"function"},{"constant":"true","inputs":[{"internalType":"address","name":"_lp","type":"address"}],"name":"debtShare","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":"false","stateMutability":"view","type":"function"},{"constant":"true","inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"payable":"false","stateMutability":"view","type":"function"},{"constant":"false","inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":"false","stateMutability":"nonpayable","type":"function"},{"constant":"false","inputs":[{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"deposit","outputs":[],"payable":"false","stateMutability":"nonpayable","type":"function"},{"constant":"false","inputs":[],"name":"depositAll","outputs":[],"payable":"false","stateMutability":"nonpayable","type":"function"},{"constant":"false","inputs":[],"name":"earn","outputs":[],"payable":"false","stateMutability":"nonpayable","type":"function"},{"constant":"true","inputs":[],"name":"getAave","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":"false","stateMutability":"view","type":"function"},{"constant":"true","inputs":[],"name":"getAaveCore","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":"false","stateMutability":"view","type":"function"},{"constant":"true","inputs":[],"name":"getAaveOracle","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":"false","stateMutability":"view","type":"function"},{"constant":"true","inputs":[],"name":"getPricePerFullShare","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":"false","stateMutability":"view","type":"function"},{"constant":"true","inputs":[],"name":"getReservePrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":"false","stateMutability":"view","type":"function"},{"constant":"true","inputs":[{"internalType":"address","name":"reserve","type":"address"}],"name":"getReservePriceETH","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":"false","stateMutability":"view","type":"function"},{"constant":"true","inputs":[],"name":"getUnderlyingPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":"false","stateMutability":"view","type":"function"},{"constant":"true","inputs":[{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"getUnderlyingPriceETH","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":"false","stateMutability":"view","type":"function"},{"constant":"true","inputs":[],"name":"governance","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":"false","stateMutability":"view","type":"function"},{"constant":"false","inputs":[{"internalType":"address","name":"reserve","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"harvest","outputs":[],"payable":"false","stateMutability":"nonpayable","type":"function"},{"constant":"true","inputs":[],"name":"healthFactor","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":"false","stateMutability":"view","type":"function"},{"constant":"false","inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":"false","stateMutability":"nonpayable","type":"function"},{"constant":"true","inputs":[],"name":"insurance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":"false","stateMutability":"view","type":"function"},{"constant":"true","inputs":[],"name":"locked","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":"false","stateMutability":"view","type":"function"},{"constant":"true","inputs":[],"name":"ltv","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":"false","stateMutability":"view","type":"function"},{"constant":"true","inputs":[],"name":"max","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":"false","stateMutability":"view","type":"function"},{"constant":"true","inputs":[],"name":"maxSafeETH","outputs":[{"internalType":"uint256","name":"maxBorrowsETH","type":"uint256"},{"internalType":"uint256","name":"totalBorrowsETH","type":"uint256"},{"internalType":"uint256","name":"availableBorrowsETH","type":"uint256"}],"payable":"false","stateMutability":"view","type":"function"},{"constant":"true","inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"maxWithdrawal","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":"false","stateMutability":"view","type":"function"},{"constant":"true","inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":"false","stateMutability":"view","type":"function"},{"constant":"true","inputs":[{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"over","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":"false","stateMutability":"view","type":"function"},{"constant":"true","inputs":[],"name":"over","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":"false","stateMutability":"view","type":"function"},{"constant":"false","inputs":[],"name":"rebalance","outputs":[],"payable":"false","stateMutability":"nonpayable","type":"function"},{"constant":"false","inputs":[{"internalType":"address","name":"reserve","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"repay","outputs":[],"payable":"false","stateMutability":"nonpayable","type":"function"},{"constant":"false","inputs":[],"name":"repayAll","outputs":[],"payable":"false","stateMutability":"nonpayable","type":"function"},{"constant":"true","inputs":[],"name":"reserve","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":"false","stateMutability":"view","type":"function"},{"constant":"false","inputs":[],"name":"safeWithdraw","outputs":[],"payable":"false","stateMutability":"nonpayable","type":"function"},{"constant":"false","inputs":[{"internalType":"address","name":"_controller","type":"address"}],"name":"setController","outputs":[],"payable":"false","stateMutability":"nonpayable","type":"function"},{"constant":"false","inputs":[{"internalType":"uint256","name":"_hf","type":"uint256"}],"name":"setHealthFactor","outputs":[],"payable":"false","stateMutability":"nonpayable","type":"function"},{"constant":"true","inputs":[],"name":"shouldBorrow","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":"false","stateMutability":"view","type":"function"},{"constant":"true","inputs":[],"name":"shouldRebalance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":"false","stateMutability":"view","type":"function"},{"constant":"true","inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":"false","stateMutability":"view","type":"function"},{"constant":"true","inputs":[],"name":"token","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"payable":"false","stateMutability":"view","type":"function"},{"constant":"true","inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":"false","stateMutability":"view","type":"function"},{"constant":"false","inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":"false","stateMutability":"nonpayable","type":"function"},{"constant":"false","inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":"false","stateMutability":"nonpayable","type":"function"},{"constant":"true","inputs":[],"name":"underlying","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":"false","stateMutability":"view","type":"function"},{"constant":"false","inputs":[{"internalType":"uint256","name":"_shares","type":"uint256"}],"name":"withdraw","outputs":[],"payable":"false","stateMutability":"nonpayable","type":"function"},{"constant":"false","inputs":[],"name":"withdrawAll","outputs":[],"payable":"false","stateMutability":"nonpayable","type":"function"}]
delegated_controller_address = '0x2be5D998C95DE70D9A38b3d78e49751F10F9E88b'
delegated_controller_abi = [ { "constant": "true", "inputs": [ { "internalType": "address", "name": "_vault", "type": "address" } ], "name": "want", "outputs": [ { "internalType": "address", "name": "", "type": "address" } ], "payable": "false", "stateMutability": "view", "type": "function" }, { "constant": "false", "inputs": [ { "internalType": "address", "name": "_strategy", "type": "address" }, { "internalType": "uint256", "name": "parts", "type": "uint256" } ], "name": "delegatedHarvest", "outputs": [], "payable": "false", "stateMutability": "nonpayable", "type": "function" } ]
controller_address = '0x9E65Ad11b299CA0Abefc2799dDB6314Ef2d91080'
controller_abi = [ { "constant": "false", "inputs": [ { "internalType": "address", "name": "_strategy", "type": "address" }, { "internalType": "address", "name": "_token", "type": "address" }, { "internalType": "uint256", "name": "parts", "type": "uint256" } ], "name": "yearn", "outputs": [], "payable": "false", "stateMutability": "nonpayable", "type": "function" } ]
usdc_strategy_address = '0xA30d1D98C502378ad61Fe71BcDc3a808CF60b897'
usdc_strategy_abi = [ { "constant": "false", "inputs": [], "name": "harvest", "outputs": [], "payable": "false", "stateMutability": "nonpayable", "type": "function" }, ]

def load_controller(w3):
    return w3.eth.contract(abi=controller_abi, address=controller_address)

def load_delegated_controller(w3):
    return w3.eth.contract(abi=delegated_controller_abi, address=delegated_controller_address)

def load_yalink_vault(w3):
    return w3.eth.contract(abi=yalink_vault_abi, address=yalink_vault_address)

def load_usdc_strategy(w3):
    return w3.eth.contract(abi=usdc_strategy_abi, address=usdc_strategy_address)

def load_aave(w3):
    return w3.eth.contract(abi=aave_abi, address=aave_address)

def load_lending_pool(w3, lending_pool):
    return w3.eth.contract(abi=lending_pool_abi, address=lending_pool)
